!function(e,t){"function"==typeof define&&define.amd?define([],function(){return t(e)}):"object"==typeof exports?module.exports=t(e):e.VanillaBox=t(e)}("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,function(e){"use strict";var t={animation:""},n=function(){var e={},t=!1,s=0,o=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(t=arguments[0],s++);for(var i=function(s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(t&&"[object Object]"===Object.prototype.toString.call(s[o])?e[o]=n(!0,e[o],s[o]):e[o]=s[o])};s<o;s++){i(arguments[s])}return e},s=function(e,t){e.classList.remove("fadeIn");for(var n=0;n<e.children.length;n++){var s=e.children[n];s.classList.contains("vb-image-container")||s.classList.contains("vb-desc-container")||(t?(s.classList.remove("fadeIn"),s.classList.add("fadeOut")):(s.classList.remove("fadeOut"),s.classList.add("fadeIn")))}return t},o=function(e){e.classList.remove("fadeIn"),e.classList.add("fadeOut")},i=function(e){e.classList.remove("fadeOut"),e.classList.add("fadeIn")};return function(e,a){var c,l,r,d,v,u,f={},m=!1,g=[],p=[],h=0,b=!1;return f.init=function(e,s){n(t,s||{});let o=e.getElementsByTagName("img"),i=this;for(let e=0;e<o.length;e++){let t=o[e].dataset.vbHighRes||o[e].src;g.push(t),p.push(o[e].dataset.vbCaption),o[e].dataset.vbIndex=e,o[e].addEventListener("click",function(){i.open(this.dataset.vbIndex)})}var a,m;return c=function(){var e=document.createElement("div");e.className="vb-overlay";var t=document.createElement("div");t.className="vb-image-container",e.appendChild(t);var n=document.createElement("div");n.className="vb-desc-container";var s=document.createElement("span");return s.className="vb-desc-text",n.appendChild(s),e.appendChild(n),e.innerHTML+='<div class="vb-previous-area"><svg class ="vb-previous" width="35px" height="90px"> <polyline class="vb-arrow"  points="30,1 2.5,41 30,81" stroke="rgba(200,200,200,0.7)" stroke-width="5" fill="none" stroke-linejoin="round"/> </svg></div>',e.innerHTML+='<div class="vb-next-area"><svg class ="vb-next" width="35px" height="90px"><polyline class="vb-arrow" points="1,1 31,41 1,81" stroke="rgba(200,200,200,0.7)" stroke-width="5" fill="none" stroke-linejoin="round"/></svg></div>',e.innerHTML+='<div class="vb-close-area"><svg class ="vb-close" width="35px" height="35px"><polyline class="vb-x" points="1,1 34,34" stroke="rgba(200,200,200,0.9)" stroke-width="4" fill="none" stroke-linejoin="round"/><polyline class="vb-x" points="34,1 1,34" stroke="rgba(200,200,200,0.9)" stroke-width="4" fill="none" stroke-linejoin="round"/></svg></div>',e}(),l=c.getElementsByClassName("vb-image-container")[0],r=c.getElementsByClassName("vb-desc-container")[0],d=c.getElementsByClassName("vb-desc-text")[0],v=c.getElementsByClassName("vb-next-area")[0],u=c.getElementsByClassName("vb-previous-area")[0],l.addEventListener("touchstart",function(e){a=e.touches[0].clientX}),l.addEventListener("touchend",function(e){m=e.changedTouches[0].clientX,function(e,t,n){var s=t-e;s>100?n.previousItem():s<-100&&n.nextItem()}(a,m,i)}),l.addEventListener("keyup",function(e){var t=e.key;console.log(e),function(e,t){switch(e){case 37:case 39:t.previousItem();break;default:;}}(t,this)}),c.addEventListener("click",function(e){"img"!=e.target.tagName.toLowerCase()?i.close():i.toggleControls()}),v.addEventListener("click",function(e){b||(e.cancelBubble=!0,i.nextItem())}),u.addEventListener("click",function(e){b||(e.cancelBubble=!0,i.previousItem())}),f},f.showItem=function(e){e||(e=0);let t=document.createElement("img");var n,s;t.src=g[e],h=e,p[e]?(r.classList.contains("fadeOut")&&!b&&i(r),d.innerHTML=p[e]):p[e]||m?o(r):(o(r),d.innerHTML=""),s=t,(n=l).innerHTML="",s.classList.add("fadeIn"),n.appendChild(s),console.log(n)},f.open=function(e){e||(e=0),b=s(c,!1),c.classList.remove("fadeOut"),l.innerHTML="",this.showItem(e),(c=document.body.appendChild(c)).classList.toggle("fadeIn"),m=!0},f.close=function(){!function(e){e.classList.remove("fadeIn"),e.classList.toggle("fadeOut"),setTimeout(function(){document.body.removeChild(e)},250)}(c),m=!1},f.hideControls=function(){b=s(c,!0),o(r)},f.toggleControls=function(){(b=s(c,!b))?o(r):p[h]&&i(r)},f.nextItem=function(){h++,console.log(h),h==g.length&&(h=0),this.showItem(h)},f.previousItem=function(){h--,console.log(h),h<0&&(h=g.length-1),this.showItem(h)},f.init(e,a),f}});